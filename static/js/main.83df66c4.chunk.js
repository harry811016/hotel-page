(this["webpackJsonphotel-page"]=this["webpackJsonphotel-page"]||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),i=(t(15),t(16),t(3)),l=t(1),s=t(2);function m(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  height: 1rem;\n  p {\n    margin-right: 10px;\n  }\n  select {\n    border-radius: 5px;\n    border: 1px solid #ffffff;\n    padding: 0.25rem 0.5rem;\n    color: #ffffff;\n    background-color: rgba(255,105,15,0.5)\n  }\n"]);return m=function(){return e},e}var u=s.a.div(m()),f=function(e){var n=e.handleCurrencyChange,t=e.currency;return a.a.createElement(u,null,a.a.createElement("p",null,"Currency"),a.a.createElement("select",{name:"currency",id:"currency",form:"currencyForm",onChange:n,value:t},a.a.createElement("option",{value:"SGD"},"SGD"),a.a.createElement("option",{value:"USD"},"USD"),a.a.createElement("option",{value:"CNY"},"CNY"),a.a.createElement("option",{value:"KRW"},"KRW")))};function p(){var e=Object(l.a)(["\n  height: 62px;\n  color: #ffffff;\n  background-color: #ff690f;\n  display: flex;\n  font-size: 1rem;\n  padding: 0 1rem;\n  justify-content: space-between;\n  align-items: center;\n"]);return p=function(){return e},e}var d=s.a.div(p()),h=function(e){var n=e.handleCurrencyChange;return a.a.createElement(d,null,a.a.createElement("h1",null,"Hotel Page"),a.a.createElement(f,{handleCurrencyChange:n,currency:e.currency}))};function g(){var e=Object(l.a)(["\n  width: 850px;\n  height: 250px;\n  border-radius: 8px;\n  border: 1px solid transparent;\n  box-shadow: 0 0 2px 0 rgba(19,26,31,0.12),0 2px 4px 0 rgba(19,26,31,0.22);\n  margin-bottom: 2rem;\n  display: flex;\n\n  .img{\n    img{\n      width: 250px;\n      height: 250px;\n      border-bottom-left-radius: 8px;\n      border-top-left-radius: 8px;\n      object-fit: cover;\n      object-position: 50% 50%;\n    }\n  }\n\n  .info {\n    padding: 1rem 2rem;\n    width: 300px;\n    /* height: 180px; */\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    position: relative;\n\n    &__main {\n      &__name {\n        font-size: 1.5rem;\n        font-weight: 600;\n      }\n\n      &__address {\n        font-size: 0.75em;\n        padding: 0.5rem 0;\n        word-wrap: normal;\n      }\n\n      &__stars {\n        color: rgb(254, 186, 2);\n      }\n    }\n\n    &__rating {\n      color: #ffffff;\n      width: 30px;\n      height: 30px;\n      line-height: 30px;\n      font-weight: 600;\n      text-align: center;\n      background-color: #003580;\n      border-radius: 8px;\n    }\n\n    &__competitors{\n      width: 100%;\n      align-items: flex-end;\n      display: flex;\n      justify-content: flex-start;\n      overflow-y: hidden;\n      overflow-x: auto;\n      border-top: 1px solid rgba(200, 200, 200, 0.5);\n      padding-top: 10px;\n\n      &__item {\n        height: 45px;\n        padding: 0 1rem;\n        font-size: 0.7rem;\n        line-height: 0.7rem;\n        display: flex;\n        flex-flow: column;\n        justify-content: center;\n        align-items: center;\n        white-space: nowrap;\n\n        .name {\n          font-weight: 800;\n          margin-bottom: -0.5rem;\n        }\n      }\n\n      &__item.highlight {\n        border-radius: 5px;\n        color: #008009;\n        background-color: rgba(0,128,9,0.05);\n        }\n    }\n  }\n\n  .deal{\n    display: flex;\n    flex-flow: column-reverse;\n    margin: 1rem auto;\n    position: relative;\n    border-left: 1px solid rgba(200, 200, 200, 0.5);\n    padding-left: 1rem;\n\n    &__price {\n      font-weight: 750;\n      font-size: 1.25rem;\n    }\n\n    &__button {\n      color: #ffffff;\n      background-color: #333333;\n      border-radius: 2px;\n      width: 120px;\n      height: 35px;\n      line-height: 35px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0.5rem;\n      box-shadow: 0 0 2px 0 rgba(19,26,31,0.12),0 2px 4px 0 rgba(19,26,31,0.22);\n    }\n\n    &__button.cursor{\n      cursor: pointer;\n      background-color: #ff690f;\n      &:hover {\n        transform: scale(1.05);\n      }\n    }\n\n    &__savedCost {\n      height: 15px;\n      color: #bf323b;\n      font-size: 0.8rem;\n      font-weight: 800;\n      line-height: 15px;\n      padding: 5px 0;\n    }\n\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(l.a)(["\n  padding: 5rem;\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-start;\n  align-items: center;\n"]);return v=function(){return e},e}var b=s.a.div(v()),x=s.a.div(g()),_=function(e){var n=e.hoteldata;return a.a.createElement(b,null,n.map((function(n){return a.a.createElement(x,{key:n.id},a.a.createElement("div",{className:"img"},a.a.createElement("img",{src:n.photo,alt:""})),a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"info__main"},a.a.createElement("div",{className:"info__main__name"},n.name),a.a.createElement("div",{className:"info__main__address"},n.address),a.a.createElement("div",{className:"info__main__stars"},function(e){e=Math.round(e);for(var n="",t=0;t<e;t++)n+="\u2605";return n}(n.stars))),a.a.createElement("div",{className:"info__rating"},n.rating),a.a.createElement("div",{className:"info__competitors"},n.price&&n.price.competitionSet.length>1&&n.price.savedCost>0?n.price.competitionSet.map((function(e){return"Our Price"===e.name?a.a.createElement("div",{className:"info__competitors__item highlight"},a.a.createElement("p",{className:"name"},e.name),a.a.createElement("p",{className:"price"},Math.round(e.price).toLocaleString())):a.a.createElement("div",{className:"info__competitors__item"},a.a.createElement("p",{className:"name"},e.name),a.a.createElement("p",{className:"price"},Math.round(e.price).toLocaleString()))})):"")),a.a.createElement("div",{className:"deal"},n.price?a.a.createElement("div",{className:"deal__button cursor"},"Book now!"):a.a.createElement("div",{className:"deal__button"},"Unavaiable"),n.price&&n.price.savedCost>0?a.a.createElement("div",{className:"deal__savedCost"},"Saved up to ",Math.round(n.price.savedCost).toLocaleString()," !"):"",a.a.createElement("div",{className:"deal__price"},n.price?(t=e.currency,r=n.price.price,r=Math.round(r),["KRW","JPY","IDR"].includes(t)&&(r=r.toLocaleString()),"".concat(t," ").concat(r)):"")));var t,r})))},E=t(4),w=t.n(E),y=t(9),C=function(e){return fetch("https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo/1/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))},j=function(e){var n=Object(r.useState)([]),t=Object(i.a)(n,2),a=t[0],o=t[1],c=Object(r.useCallback)(Object(y.a)(w.a.mark((function n(){var t,r,a,c,l,s,m;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([fetch("https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo").then((function(e){return e.json()})).then((function(e){return e})),C(e)]);case 2:t=n.sent,r=Object(i.a)(t,2),a=r[0],c=r[1],l={},c.forEach((function(e){var n=[{name:"Our Price",price:e.price}];if(e.competitors)for(var t in e.competitors){var r={name:t,price:e.competitors[t]};n.push(r)}n.sort((function(e,n){return e.price-n.price})),e.competitionSet=n;var a=n[n.length-1].price-e.price;e.savedCost=a,l[e.id]=e})),a.map((function(e){return e.price=l[e.id],e})),s=[],m=[],a.forEach((function(e){e.price?m.push(e):s.push(e)})),m.sort((function(e,n){return n.price.savedCost-e.price.savedCost})),m=m.concat(s),o(m);case 15:case"end":return n.stop()}}),n)}))));return Object(r.useEffect)((function(){c()}),[]),[a,c]},N=function(){var e=Object(r.useState)("SGD"),n=Object(i.a)(e,2),t=n[0],o=n[1],c=j(t),l=Object(i.a)(c,2),s=l[0],m=l[1];return Object(r.useEffect)((function(){o(window.localStorage.getItem("hotelPageCurrency")?window.localStorage.getItem("hotelPageCurrency"):"SGD"),m(t)}),[t]),a.a.createElement(r.Fragment,null,a.a.createElement(h,{handleCurrencyChange:function(e){o(e.target.value),window.localStorage.setItem("hotelPageCurrency",e.target.value)},currency:t}),a.a.createElement(_,{currency:t,hoteldata:s}))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(N,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.83df66c4.chunk.js.map