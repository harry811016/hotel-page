{"version":3,"sources":["components/Converter/Converter.js","components/Navbar/Navbar.js","components/Card/Card.js","hooks/useHotelAPI.js","App.js","index.js"],"names":["ConverterContainer","styled","div","props","theme","colors","white","Converter","handleCurrencyChange","currency","name","id","form","onChange","value","data-testid","NavbarContainer","main_color","Title","Navbar","className","src","alt","CardContainer","CardItem","dark_blue","dark_yellow","bg_grey","dark_green","bg_green","black","dark_grey","dark_red","EmptyMsg","Card","hoteldata","isLoading","data","showDescription","e","Number","target","modal","nextSibling","children","text","closeBtn","filter","item","description","replace","innerHTML","classList","remove","addEventListener","scrollTop","add","length","map","key","photo","address","stars","Math","round","str","i","starConverter","rating","onClick","price","competitionSet","savedCost","toLocaleString","includes","priceConverter","taxes_and_fees","tax","hotel_fees","toFixed","fetchPrice","fetch","then","res","json","catch","err","useHotelAPI","useState","setHoteldata","fetchHoteldata","useCallback","a","Promise","all","infoData","originalPriceData","priceData","forEach","competitorArray","competitors","prop","obj","push","sort","b","unavailableData","availableData","concat","useEffect","App","window","localStorage","getItem","setCurrency","setItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb2434d2.chunk.js","sourcesContent":["import React from 'react'\nimport styled from '@emotion/styled'\n\nconst ConverterContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 1rem;\n  \n  p {\n    margin-right: 10px;\n  }\n  select {\n    border-radius: 5px;\n    border: 1px solid ${props => props.theme.colors.white};\n    padding: 0.25rem 0.5rem;\n    color: ${props => props.theme.colors.white};\n    background-color: rgba(255,105,15,0.5)\n  }\n`\n\nconst Converter = (props) => {\n  const { handleCurrencyChange, currency } = props\n  return (\n    <ConverterContainer>\n      <p>Currency</p>\n      <select name=\"currency\" id=\"currency\" form=\"currencyForm\" onChange={handleCurrencyChange} value={currency} data-testid=\"currency\">\n        <option value=\"USD\" data-testid=\"usd\">USD</option>\n        <option value=\"SGD\" data-testid=\"sgd\">SGD</option>\n        <option value=\"CNY\" data-testid=\"cny\">CNY</option>\n        <option value=\"KRW\" data-testid=\"krw\">KRW</option>\n      </select>\n    </ConverterContainer>\n  )\n}\n\nexport default Converter","import React from 'react'\nimport styled from '@emotion/styled'\nimport Converter from './../Converter/Converter'\n\nconst NavbarContainer = styled.div`\n  height: 62px;\n  color: ${props => props.theme.colors.white};\n  background-color: ${props => props.theme.colors.main_color};\n  display: flex;\n  font-size: 1rem;\n  padding: 0 2rem;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 999;\n`;\n\nconst Title = styled.div`\n  font-size: 2rem;\n  font-weight: 600;\n  line-height: 50px;\n  display: flex;\n  align-items: center;\n  .img {\n    display: flex;\n    align-items: center;\n    img{\n      height: 40px;\n      width: 40px;\n      margin-right: 10px;\n    }\n  }\n`\n\nconst Navbar = (props) => {\n  const { handleCurrencyChange } = props\n  return (\n    <NavbarContainer>\n      <Title>\n        <div className=\"img\" data-testid=\"logo\">\n          <img src=\"https://tsungtingdu.github.io/hotel-page/assets/hotel.png\" alt=\"\" />\n        </div>\n        <div data-testid=\"title\">Your Hotel.com</div>\n\n      </Title>\n      <Converter handleCurrencyChange={handleCurrencyChange} currency={props.currency} />\n    </NavbarContainer>\n  )\n}\n\nexport default Navbar","import React from 'react'\nimport styled from '@emotion/styled'\n\nconst CardContainer = styled.div`\n  padding: 7rem 0 5rem;\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-start;\n  align-items: center;\n`\n\nconst CardItem = styled.div`\n  width: 850px;\n  height: 250px;\n  border-radius: 8px;\n  border: 1px solid transparent;\n  box-shadow: 0 0 2px 0 rgba(19,26,31,0.12),0 2px 4px 0 rgba(19,26,31,0.22);\n  margin-bottom: 2rem;\n  display: flex;\n  position: relative;\n\n  .img{\n    img{\n      width: 250px;\n      height: 250px;\n      border-bottom-left-radius: 8px;\n      border-top-left-radius: 8px;\n      object-fit: cover;\n      object-position: 50% 50%;\n    }\n  }\n\n  .description {\n    height: 250px;\n    width: calc(106%);\n    top: 0;\n    left: 0;\n    position: absolute;\n    padding: 0.75rem;\n    background-color: ${props => props.theme.colors.white};\n    z-index: 200;\n    overflow-y: auto;\n\n    &__text {\n      flex: 0 0 95%;\n      font-size: 0.75rem;\n      padding-right: 0.25rem;\n      font-weight: 400;\n    }\n\n    &__button {\n      flex: 0 0 5%;\n      height: 1.5rem;\n      line-height: 1.5rem;\n      font-size: 0.8rem;\n      color: ${props => props.theme.colors.dark_blue};\n      border-radius: 8px;\n      margin: 0 auto;\n      padding-left: 0.25rem;\n      font-weight: 1000px;\n      text-align: center;\n      cursor: pointer;\n    }\n  }\n\n  .info {\n    padding: 1rem 2rem;\n    width: 400px;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    position: relative;\n\n    &__main {\n      &__name {\n        font-size: 1.5rem;\n        font-weight: 600;\n      }\n\n      &__address {\n        font-size: 0.75em;\n        padding: 0.5rem 0;\n        word-wrap: normal;\n      }\n\n      &__stars {\n        color:  ${props => props.theme.colors.dark_yellow};\n      }\n    }\n\n    &__bottomWrapper {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: auto;\n      margin-bottom: 0.5rem;\n\n      &__rating {\n        color: #ffffff;\n        width: 30px;\n        height: 30px;\n        line-height: 30px;\n        font-weight: 600;\n        text-align: center;\n        background-color: ${props => props.theme.colors.dark_blue};\n        border-radius: 8px;\n      }\n\n      &__more {\n        display: flex;\n        align-items: flex-end;\n        height: 100%;\n        color:  ${props => props.theme.colors.dark_blue};\n        font-size: 0.8rem;\n        font-style: italic;\n        cursor: pointer;\n      }\n    }\n\n    &__competitors{\n      width: 100%;\n      align-items: flex-end;\n      display: flex;\n      justify-content: flex-start;\n      overflow-y: hidden;\n      overflow-x: auto;\n      border-top: 1px solid ${props => props.theme.colors.bg_grey};\n      padding-top: 10px;\n\n      &__item {\n        height: 45px;\n        padding: 0 1rem;\n        font-size: 0.7rem;\n        line-height: 0.7rem;\n        display: flex;\n        flex-flow: column;\n        justify-content: center;\n        align-items: center;\n        white-space: nowrap;\n\n        .name {\n          font-weight: 800;\n          margin-bottom: -0.5rem;\n        }\n      }\n\n      &__item.highlight {\n        border-radius: 5px;\n        color: ${props => props.theme.colors.dark_green};\n        background-color: ${props => props.theme.colors.bg_green};\n        }\n    }\n  }\n\n  .deal{\n    display: flex;\n    flex-flow: column-reverse;\n    margin: 1rem auto;\n    position: relative;\n    border-left: 1px solid ${props => props.theme.colors.bg_grey};\n    padding-left: 1rem;\n\n    &__price {\n      font-weight: 750;\n      font-size: 1.25rem;\n\n      &__tax {\n        display: flex;\n        flex-flow: column;\n        justify-content: flex-start;\n        height: 15px;\n        font-weight: 400;\n        font-size: 0.8rem;\n        line-height:  0.8rem;\n        margin: -0.5rem 0 1rem;\n\n        p {\n          border-bottom: 1px dotted ${props => props.theme.colors.black};\n        }\n      }\n    }\n\n    &__button {\n      color:  ${props => props.theme.colors.white};\n      background-color:  ${props => props.theme.colors.dark_grey};\n      border-radius: 2px;\n      width: 120px;\n      height: 35px;\n      line-height: 35px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0.6rem;\n      box-shadow: 0 0 2px 0 rgba(19,26,31,0.12),0 2px 4px 0 rgba(19,26,31,0.22);\n    }\n\n    &__button.cursor{\n      cursor: pointer;\n      background-color: ${props => props.theme.colors.main_color};\n      &:hover {\n        transform: scale(1.05);\n      }\n    }\n\n    &__savedCost {\n      color: ${props => props.theme.colors.dark_red};\n      font-size: 0.8rem;\n      line-height: 0.8rem;\n      margin: 0.5rem 0;\n\n      &--highlight {\n        font-weight: 800;\n      }\n\n      &--strikethrough {\n        font-style: italic;\n        text-decoration: line-through;\n        font-weight: 400;\n        margin-right: 1rem;\n      }\n    }\n  }\n\n  .tooltip {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .tooltip {\n    .tooltiptext {\n      visibility: hidden;\n      display: flex;\n      flex-flow: column;\n      justify-content: flex-start;\n      align-items: flex-start;\n      width: 150px;\n      background-color: ${props => props.theme.colors.white};\n      border: 1px solid ${props => props.theme.colors.dark_yellow};\n      border-radius: 5px;\n      text-align: center;\n      border-radius: 6px;\n      padding: 0.5rem;\n      font-size: 0.8rem;\n      \n      position: absolute;\n      transform: translate(-105%, -100%);\n      z-index: 1;\n\n      p {\n        line-height: 0px;\n        font-weight: 600;\n      }\n    }\n  }\n\n  .tooltip:hover .tooltiptext {\n    visibility: visible;\n  }\n`\n\nconst EmptyMsg = styled.div`\n  width: 100%;\n  height: 50vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n  font-weight: 800;\n  padding: 2rem;\n  color: ${props => props.theme.colors.bg_grey};\n  text-align: center;\n`\n\nconst Card = (props) => {\n  const { isLoading, data, currency } = props.hoteldata\n  const hoteldata = data\n\n  const starConverter = (stars) => {\n    stars = Math.round(stars)\n    let str = ''\n    for (let i = 0; i < stars; i++) {\n      str += 'â˜…'\n    }\n    return str\n  }\n\n  const priceConverter = (currency, price) => {\n    price = Math.round(price)\n\n    if (['KRW', 'JPY', 'IDR'].includes(currency,)) {\n      price = price.toLocaleString()\n    }\n\n    return `${currency} ${price}`\n  }\n\n  const showDescription = (e) => {\n    const id = Number(e.target.id)\n    const modal = e.target.nextSibling\n    const [text, closeBtn] = e.target.nextSibling.children\n\n    // insert HTML content\n    let data = hoteldata.filter(item => item.id === id)\n    data = data[0].description.replace(/<br>/g, '')\n    text.innerHTML = data\n\n    // open modal\n    modal.classList.remove('d-none')\n\n    // close modal\n    closeBtn.addEventListener('click', () => {\n      modal.scrollTop = 0\n      text.innerHTML = ''\n      modal.classList.add('d-none')\n    })\n  }\n  return (\n    <CardContainer>\n      {hoteldata.length > 0 && !isLoading ?\n        (\n          hoteldata.map(item => {\n            return (\n              <CardItem key={item.id}>\n                {/* Left part - pciture */}\n                <div className=\"img\"><img src={item.photo} alt=\"\" /></div>\n\n                {/* Middle part - hotel and competitor info */}\n                <div className=\"info\">\n                  <div className=\"info__main\">\n                    <div className=\"info__main__name\" data-testid=\"name\">{item.name}</div>\n                    <div className=\"info__main__address\" data-testid=\"address\">{item.address}</div>\n                    {item.stars || item.stars === 0 ? (<div className=\"info__main__stars\" data-testid=\"stars\">{starConverter(item.stars)}</div>) : ''}\n                  </div>\n                  <div className=\"info__bottomWrapper\">\n                    {item.rating || item.rating === 0 ? (<div className=\"info__bottomWrapper__rating\" data-testid=\"rating\">{item.rating}</div>) : ''}\n                    <div className=\"info__bottomWrapper__more\" onClick={showDescription} id={item.id} data-testid=\"more\">see more</div>\n\n                    {/* description */}\n                    <div className=\"description d-none\" >\n                      <div className=\"description__text\" data-testid=\"description\">\n                      </div>\n                      <div className=\"description__button\" data-testid=\"description-btn\">back</div>\n                    </div>\n                  </div>\n\n                  {/* competitors */}\n                  <div className=\"info__competitors\">\n                    {item.price && item.price.competitionSet.length > 1 && item.price.savedCost > 0 ? (item.price.competitionSet.map(item => {\n                      if (item.name === 'Our Price') {\n                        return (<div className=\"info__competitors__item highlight\" key={item.name}>\n                          <p className='name'>{item.name}</p>\n                          <p className='price'>{Math.round(item.price).toLocaleString()}</p>\n                        </div>)\n                      } else {\n                        return (<div className=\"info__competitors__item\" key={item.name}>\n                          <p className='name'>{item.name}</p>\n                          <p className='price'>{Math.round(item.price).toLocaleString()}</p>\n                        </div>)\n                      }\n                    })) : ''}\n                  </div>\n                </div>\n\n                {/* Right part - price and CTA button */}\n                <div className=\"deal\" data-testid=\"deal\">\n                  {item.price ? (\n                    <div className=\"deal__button cursor\" data-testid=\"cta-btn\">\n                      Book now!\n                    </div>) : (\n                      <div className=\"deal__button\">\n                        Unavailable\n                      </div>)}\n\n                  <div className=\"deal__price\">\n                    <div className=\"tooltip\" >\n                      {item.price ? (\n                        <span data-testid=\"price\">{priceConverter(currency, item.price.price)}</span>\n                      ) : ''}\n\n                      {item.price && item.price.taxes_and_fees ? (<div className=\"deal__price__tax\" data-testid=\"tax-included-msg\">\n                        <p>*tax-inclusive</p>\n                      </div>) : ''}\n                      {item.price && item.price.taxes_and_fees ? (\n                        <span className=\"tooltiptext\">\n                          <p className='fees' data-testid=\"tax\">{item.price.taxes_and_fees.tax ? `tax: $${item.price.taxes_and_fees.tax}` : ''}</p>\n                          <p className='fees' data-testid=\"hotel-fee\">{item.price.taxes_and_fees.hotel_fees ? `hotel fees: $${item.price.taxes_and_fees.hotel_fees}` : ''}</p>\n                        </span>) : ''}\n                    </div>\n                  </div>\n\n                  {item.price && item.price.savedCost > 0 ? (\n                    <div className=\"deal__savedCost\">\n                      <span className=\"deal__savedCost--strikethrough\" data-testid=\"expensive-price\">${Math.round(item.price.savedCost + item.price.price).toLocaleString()}</span>\n                      <span className=\"deal__savedCost--highlight\" data-testid=\"saved-percentage\">Save {(100 * item.price.savedCost / item.price.price).toFixed(1)}% !</span>\n                    </div>) : ''}\n\n                </div>\n              </CardItem>\n            )\n          })) : (isLoading ? <EmptyMsg>Loading...</EmptyMsg> : <EmptyMsg>Sorry, no result for this search.</EmptyMsg>)}\n    </CardContainer>\n  )\n}\n\nexport default Card","import { useCallback, useEffect, useState } from 'react'\n\nconst fetchHotel = () => {\n  return fetch('https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo')\n    .then(res => res.json())\n    .then(data => {\n      return data\n    }).catch(err => {\n      return []\n    })\n}\n\nconst fetchPrice = (currency) => {\n  return fetch(`https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo/1/${currency}`)\n    .then(res => res.json())\n    .then(data => {\n      return data\n    }).catch(err => {\n      return []\n    })\n}\n\nconst useHotelAPI = (currency) => {\n  const [hoteldata, setHoteldata] = useState({\n    isLoading: true,\n    currency: currency,\n    data: []\n  })\n\n  const fetchHoteldata = useCallback(async () => {\n    // const infoData = await fetchHotel()\n    // const originalPriceData = await fetchPrice(currency)\n\n    const [infoData, originalPriceData] = await Promise.all([\n      fetchHotel(), fetchPrice(currency)\n    ])\n\n    if (infoData.length > 0) {\n      // transform array data to object data\n      const priceData = {}\n      originalPriceData.forEach(i => {\n        let competitorArray = [{ name: 'Our Price', price: i.price }]\n        if (i.competitors) {\n          for (const prop in i.competitors) {\n            let obj = { name: prop, price: i.competitors[prop] }\n            competitorArray.push(obj)\n          }\n        }\n\n        // sort by price\n        competitorArray.sort((a, b) => {\n          return a.price - b.price\n        })\n        i.competitionSet = competitorArray\n\n        // calculate saved price\n        const savedCost = competitorArray[competitorArray.length - 1].price - i.price\n        i.savedCost = savedCost\n        priceData[i.id] = i\n      })\n\n      // combine info data with price data\n      infoData.map(item => {\n        item.price = priceData[item.id]\n        return item\n      })\n\n      // seperate data based on availability\n      let unavailableData = []\n      let availableData = []\n\n      infoData.forEach(item => {\n        if (item.price) {\n          availableData.push(item)\n        } else {\n          unavailableData.push(item)\n        }\n      })\n\n      // sort by saved cost\n      availableData.sort((a, b) => {\n        return b.price.savedCost - a.price.savedCost\n      })\n\n      availableData = availableData.concat(unavailableData)\n      setHoteldata({\n        isLoading: false,\n        currency: currency,\n        data: availableData\n      })\n    } else {\n      setHoteldata({\n        isLoading: false,\n        currency: currency,\n        data: []\n      })\n    }\n  }, [currency])\n\n  useEffect(() => {\n    fetchHoteldata()\n  }, [fetchHoteldata])\n\n  return [hoteldata, fetchHoteldata]\n}\n\nexport default useHotelAPI","import React, { Fragment, useState, useEffect } from 'react'\nimport Navbar from './components/Navbar/Navbar'\nimport Card from './components/Card/Card'\nimport useHotelAPI from './hooks/useHotelAPI'\n\n// const useHotelAPI = hotelApis.useHotelAPI\n\nconst App = () => {\n  const [currency, setCurrency] = useState(window.localStorage.getItem('hotelPageCurrency') ? window.localStorage.getItem('hotelPageCurrency') : 'USD')\n  const [hoteldata, fetchHoteldata] = useHotelAPI(currency)\n\n  const handleCurrencyChange = (e) => {\n    setCurrency(e.target.value)\n    window.localStorage.setItem('hotelPageCurrency', e.target.value)\n  }\n\n  useEffect(() => {\n    setCurrency(window.localStorage.getItem('hotelPageCurrency') ? window.localStorage.getItem('hotelPageCurrency') : 'USD')\n    fetchHoteldata(currency)\n  }, [])\n\n  return (\n    <Fragment>\n      <Navbar handleCurrencyChange={handleCurrencyChange} currency={currency} />\n      <Card hoteldata={hoteldata} />\n    </Fragment>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'normalize.css'\nimport { ThemeProvider } from 'emotion-theming'\nimport App from './App'\n\nconst theme = {\n  colors: {\n    main_color: \"#ff690f\",\n    black: \"#000000\",\n    white: \"#ffffff\",\n    dark_blue: \"#003580\",\n    dark_yellow: \"#feba02\",\n    dark_green: \"#008009\",\n    dark_grey: \"#333333\",\n    dark_red: \"#bf323b\",\n    bg_green: \"rgba(0,128,9,0.05)\",\n    bg_grey: \"rgba(200, 200, 200, 0.5)\"\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}