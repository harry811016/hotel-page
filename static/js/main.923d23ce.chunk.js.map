{"version":3,"sources":["components/Converter/Converter.js","components/Navbar/Navbar.js","components/Card/Card.js","hooks/useHotelAPI.js","App.js","index.js"],"names":["ConverterContainer","styled","div","Converter","props","handleCurrencyChange","currency","name","id","form","onChange","value","NavbarContainer","Navbar","CardContainer","CardItem","Card","hoteldata","map","item","key","className","src","photo","alt","address","stars","Math","round","str","i","starConverter","rating","price","competitionSet","length","savedCost","toLocaleString","taxes_and_fees","tax","hotel_fees","includes","fetchPrice","fetch","then","res","json","data","useHotelAPI","useState","setHoteldata","fetchHoteldata","useCallback","a","Promise","all","infoData","originalPriceData","priceData","forEach","competitorArray","competitors","prop","obj","push","sort","b","unavailableData","availableData","concat","useEffect","App","setCurrency","window","localStorage","getItem","e","target","setItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.923d23ce.chunk.js","sourcesContent":["import React from 'react'\nimport styled from '@emotion/styled'\n\nconst ConverterContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 1rem;\n  p {\n    margin-right: 10px;\n  }\n  select {\n    border-radius: 5px;\n    border: 1px solid #ffffff;\n    padding: 0.25rem 0.5rem;\n    color: #ffffff;\n    background-color: rgba(255,105,15,0.5)\n  }\n`\n\nconst Converter = (props) => {\n  const { handleCurrencyChange, currency } = props\n  return (\n    <ConverterContainer>\n      <p>Currency</p>\n      <select name=\"currency\" id=\"currency\" form=\"currencyForm\" onChange={handleCurrencyChange} value={currency}>\n        <option value=\"SGD\">SGD</option>\n        <option value=\"USD\">USD</option>\n        <option value=\"CNY\">CNY</option>\n        <option value=\"KRW\">KRW</option>\n      </select>\n    </ConverterContainer>\n  )\n}\n\nexport default Converter","import React from 'react'\nimport styled from '@emotion/styled'\nimport Converter from './../Converter/Converter'\n\nconst NavbarContainer = styled.div`\n  height: 62px;\n  color: #ffffff;\n  background-color: #ff690f;\n  display: flex;\n  font-size: 1rem;\n  padding: 0 1rem;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst Navbar = (props) => {\n  const { handleCurrencyChange } = props\n  return (\n    <NavbarContainer>\n      <h1>Hotel Page</h1>\n      <Converter handleCurrencyChange={handleCurrencyChange} currency={props.currency} />\n    </NavbarContainer>\n  )\n}\n\nexport default Navbar","import React from 'react'\nimport styled from '@emotion/styled'\n\nconst CardContainer = styled.div`\n  padding: 5rem;\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-start;\n  align-items: center;\n`\n\nconst CardItem = styled.div`\n  width: 850px;\n  height: 250px;\n  border-radius: 8px;\n  border: 1px solid transparent;\n  box-shadow: 0 0 2px 0 rgba(19,26,31,0.12),0 2px 4px 0 rgba(19,26,31,0.22);\n  margin-bottom: 2rem;\n  display: flex;\n\n  .img{\n    img{\n      width: 250px;\n      height: 250px;\n      border-bottom-left-radius: 8px;\n      border-top-left-radius: 8px;\n      object-fit: cover;\n      object-position: 50% 50%;\n    }\n  }\n\n  .info {\n    padding: 1rem 2rem;\n    width: 300px;\n    /* height: 180px; */\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    position: relative;\n\n    &__main {\n      &__name {\n        font-size: 1.5rem;\n        font-weight: 600;\n      }\n\n      &__address {\n        font-size: 0.75em;\n        padding: 0.5rem 0;\n        word-wrap: normal;\n      }\n\n      &__stars {\n        color: rgb(254, 186, 2);\n      }\n    }\n\n    &__rating {\n      color: #ffffff;\n      width: 30px;\n      height: 30px;\n      line-height: 30px;\n      font-weight: 600;\n      text-align: center;\n      background-color: #003580;\n      border-radius: 8px;\n    }\n\n    &__competitors{\n      width: 100%;\n      align-items: flex-end;\n      display: flex;\n      justify-content: flex-start;\n      overflow-y: hidden;\n      overflow-x: auto;\n      border-top: 1px solid rgba(200, 200, 200, 0.5);\n      padding-top: 10px;\n\n      &__item {\n        height: 45px;\n        padding: 0 1rem;\n        font-size: 0.7rem;\n        line-height: 0.7rem;\n        display: flex;\n        flex-flow: column;\n        justify-content: center;\n        align-items: center;\n        white-space: nowrap;\n\n        .name {\n          font-weight: 800;\n          margin-bottom: -0.5rem;\n        }\n      }\n\n      &__item.highlight {\n        border-radius: 5px;\n        color: #008009;\n        background-color: rgba(0,128,9,0.05);\n        }\n    }\n  }\n\n  .deal{\n    display: flex;\n    flex-flow: column-reverse;\n    margin: 1rem auto;\n    position: relative;\n    border-left: 1px solid rgba(200, 200, 200, 0.5);\n    padding-left: 1rem;\n\n    &__price {\n      font-weight: 750;\n      font-size: 1.25rem;\n    }\n\n    &__button {\n      color: #ffffff;\n      background-color: #333333;\n      border-radius: 2px;\n      width: 120px;\n      height: 35px;\n      line-height: 35px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0.6rem;\n      box-shadow: 0 0 2px 0 rgba(19,26,31,0.12),0 2px 4px 0 rgba(19,26,31,0.22);\n    }\n\n    &__button.cursor{\n      cursor: pointer;\n      background-color: #ff690f;\n      &:hover {\n        transform: scale(1.05);\n      }\n    }\n\n    &__savedCost {\n      height: 15px;\n      color: #bf323b;\n      font-size: 0.8rem;\n      font-weight: 800;\n      line-height: 15px;\n      padding: 5px 0;\n    }\n\n    &__tax {\n      display: flex;\n      flex-flow: column;\n      justify-content: flex-start;\n      height: 15px;\n      font-size: 0.8rem;\n      line-height: 10px;\n      margin: 1rem 0;\n\n      p {\n        margin-top: -5px;  \n      }\n\n      p.fees {\n        color: #008009;\n        font-weight: 800;\n        margin-top: -0.5rem;  \n      }\n    }\n\n  }\n`\n\nconst Card = (props) => {\n  const hoteldata = props.hoteldata\n  const starConverter = (stars) => {\n    stars = Math.round(stars)\n    let str = ''\n    for (let i = 0; i < stars; i++) {\n      str += 'â˜…'\n    }\n    return str\n  }\n\n  const priceConverter = (currency, price) => {\n    price = Math.round(price)\n\n    if (['KRW', 'JPY', 'IDR'].includes(currency,)) {\n      price = price.toLocaleString()\n    }\n\n    return `${currency} ${price}`\n  }\n\n  return (\n    <CardContainer>\n      {hoteldata.map(item => {\n        return (\n          <CardItem key={item.id}>\n            <div className=\"img\"><img src={item.photo} alt=\"\" /></div>\n            <div className=\"info\">\n              <div className=\"info__main\">\n                <div className=\"info__main__name\">{item.name}</div>\n                <div className=\"info__main__address\">{item.address}</div>\n                <div className=\"info__main__stars\">{starConverter(item.stars)}</div>\n              </div>\n              <div className=\"info__rating\">{item.rating}</div>\n              <div className=\"info__competitors\">\n                {item.price && item.price.competitionSet.length > 1 && item.price.savedCost > 0 ? (item.price.competitionSet.map(item => {\n                  if (item.name === 'Our Price') {\n                    return (<div className=\"info__competitors__item highlight\">\n                      <p className='name'>{item.name}</p>\n                      <p className='price'>{Math.round(item.price).toLocaleString()}</p>\n                    </div>)\n                  } else {\n                    return (<div className=\"info__competitors__item\">\n                      <p className='name'>{item.name}</p>\n                      <p className='price'>{Math.round(item.price).toLocaleString()}</p>\n                    </div>)\n                  }\n                })) : ''}\n              </div>\n            </div>\n            <div className=\"deal\">\n\n              {item.price ? (\n                <div className=\"deal__button cursor\">\n                  Book now!\n                </div>) : (\n                  <div className=\"deal__button\">\n                    Unavaiable\n                  </div>)}\n\n              {item.price && item.price.taxes_and_fees ? (<div className=\"deal__tax\">\n                <p>Price includes:</p>\n                <p className='fees'>{item.price.taxes_and_fees.tax ? `taxes: $${item.price.taxes_and_fees.tax}` : ''}</p>\n                <p className='fees'>{item.price.taxes_and_fees.hotel_fees ? `hotel fees: $${item.price.taxes_and_fees.hotel_fees}` : ''}</p>\n              </div>) : ''}\n\n              {item.price && item.price.savedCost > 0 ? (\n                <div className=\"deal__savedCost\">\n                  Saved up to ${Math.round(item.price.savedCost).toLocaleString()} !\n                </div>) : ''}\n\n              <div className=\"deal__price\">\n                {item.price ? priceConverter(props.currency, item.price.price) : ''}\n              </div>\n            </div>\n          </CardItem>\n        )\n      })\n      }\n    </CardContainer>\n  )\n}\n\nexport default Card","import { useCallback, useEffect, useState } from 'react'\n\n\nconst fetchHotel = () => {\n  return fetch('https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo')\n    .then(res => res.json())\n    .then(data => {\n      return data\n    })\n}\n\nconst fetchPrice = (currency) => {\n  return fetch(`https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo/1/${currency}`)\n    .then(res => res.json())\n    .then(data => {\n      return data\n    })\n}\n\nconst useHotelAPI = (currency) => {\n  const [hoteldata, setHoteldata] = useState([])\n\n  const fetchHoteldata = useCallback(async () => {\n    const [infoData, originalPriceData] = await Promise.all([\n      fetchHotel(),\n      fetchPrice(currency)\n    ])\n\n    // transform array data to object data\n    const priceData = {}\n    originalPriceData.forEach(i => {\n      let competitorArray = [{ name: 'Our Price', price: i.price }]\n      if (i.competitors) {\n        for (const prop in i.competitors) {\n          let obj = { name: prop, price: i.competitors[prop] }\n          competitorArray.push(obj)\n        }\n      }\n\n      // sort by price\n      competitorArray.sort((a, b) => {\n        return a.price - b.price\n      })\n      i.competitionSet = competitorArray\n\n      // calculate saved price\n      const savedCost = competitorArray[competitorArray.length - 1].price - i.price\n      i.savedCost = savedCost\n      priceData[i.id] = i\n    })\n\n    // combine info data with price data\n    infoData.map(item => {\n      item.price = priceData[item.id]\n      return item\n    })\n\n    // seperate data based on availability\n    let unavailableData = []\n    let availableData = []\n\n    infoData.forEach(item => {\n      if (item.price) {\n        availableData.push(item)\n      } else {\n        unavailableData.push(item)\n      }\n    })\n\n    // sort by saved cost\n    availableData.sort((a, b) => {\n      return b.price.savedCost - a.price.savedCost\n    })\n\n    availableData = availableData.concat(unavailableData)\n    setHoteldata(availableData)\n  }, [currency])\n\n  useEffect(() => {\n    fetchHoteldata()\n  }, [fetchHoteldata])\n\n  return [hoteldata, fetchHoteldata]\n}\n\nexport default useHotelAPI","import React, { Fragment, useState, useEffect } from 'react'\nimport Navbar from './components/Navbar/Navbar'\nimport Card from './components/Card/Card'\nimport useHotelAPI from './hooks/useHotelAPI'\n\nconst App = () => {\n  const [currency, setCurrency] = useState('SGD')\n  const [hoteldata, fetchHoteldata] = useHotelAPI(currency)\n\n  const handleCurrencyChange = (e) => {\n    setCurrency(e.target.value)\n    window.localStorage.setItem('hotelPageCurrency', e.target.value)\n  }\n\n  useEffect(() => {\n    setCurrency(window.localStorage.getItem('hotelPageCurrency') ? window.localStorage.getItem('hotelPageCurrency') : 'SGD')\n    fetchHoteldata(currency)\n  }, [currency, fetchHoteldata])\n\n  return (\n    <Fragment>\n      <Navbar handleCurrencyChange={handleCurrencyChange} currency={currency} />\n      <Card currency={currency} hoteldata={hoteldata} />\n    </Fragment>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'normalize.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}